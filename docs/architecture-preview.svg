<svg xmlns="http://www.w3.org/2000/svg" width="1120" height="520" viewBox="0 0 1120 520" role="img" aria-label="Sanitized PunkPredictor architecture preview">
  <defs>
    <style>
      .bg { fill: #ffffff; }
      .title { font: 700 20px -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif; fill: #111827; }
      .subtitle { font: 500 12px -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif; fill: #475569; }
      .h { font: 700 14px -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif; fill: #0f172a; }
      .t { font: 500 12px -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif; fill: #334155; }
      .t2 { font: 500 11px -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif; fill: #475569; }
      .group { fill: #f8fafc; stroke: #cbd5e1; stroke-width: 1.5; rx: 14; ry: 14; }
      .card { fill: #ffffff; stroke: #cbd5e1; stroke-width: 1.3; rx: 10; ry: 10; }
      .accent { fill: #eff6ff; stroke: #60a5fa; }
      .arrow { stroke: #475569; stroke-width: 2; fill: none; marker-end: url(#m); }
      .stepArrow { stroke: #64748b; stroke-width: 1.8; fill: none; marker-end: url(#m2); }
      .chip { fill: #eef2ff; stroke: #c7d2fe; stroke-width: 1; rx: 999; ry: 999; }
      .chipText { font: 600 11px -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif; fill: #3730a3; }
      .readArrow { stroke: #60a5fa; stroke-width: 1.6; stroke-dasharray: 5,3; fill: none; marker-end: url(#mr); }
    </style>
    <marker id="m" markerWidth="10" markerHeight="10" refX="8" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10 z" fill="#475569"/>
    </marker>
    <marker id="m2" markerWidth="8" markerHeight="8" refX="6.5" refY="4" orient="auto">
      <path d="M0,0 L8,4 L0,8 z" fill="#64748b"/>
    </marker>
    <marker id="mr" markerWidth="10" markerHeight="10" refX="8" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10 z" fill="#60a5fa"/>
    </marker>
  </defs>

  <rect class="bg" x="0" y="0" width="1120" height="520"/>

  <text class="title" x="28" y="36">PunkPredictor (Sanitized) - Production ML + Quant Research System</text>
  <text class="subtitle" x="28" y="56">High-level architecture only. Private code, implementation details, and deployment topology remain private.</text>

  <!-- Left: user-facing (x=24, w=300) -->
  <rect class="group" x="24" y="82" width="300" height="194"/>
  <text class="h" x="42" y="108">User-facing stack</text>

  <rect class="card" x="44" y="122" width="116" height="50"/>
  <text class="h" x="75" y="151">Web UI</text>
  <text class="t2" x="67" y="166">Vercel</text>

  <rect class="card" x="190" y="122" width="116" height="50"/>
  <text class="h" x="203" y="151">Backend API</text>
  <text class="t2" x="202" y="166">Flask / Heroku</text>

  <path class="arrow" d="M160 147 L190 147"/>

  <rect class="card" x="65" y="194" width="220" height="54"/>
  <text class="t" x="79" y="213">Public valuation + performance</text>
  <text class="t2" x="100" y="230">endpoints and pages</text>

  <path class="arrow" d="M248 172 L248 194"/>

  <!-- Middle: lifecycle (x=360, w=340) -->
  <rect class="group" x="360" y="82" width="340" height="336"/>
  <text class="h" x="378" y="108">Model lifecycle (VPS timers + workers)</text>

  <rect class="card accent" x="378" y="124" width="304" height="58"/>
  <text class="t" x="396" y="147">Inference cycle (every 30 min)</text>
  <text class="t2" x="396" y="164">refresh data → rebuild snapshots</text>
  <text class="t2" x="396" y="177">publish predictions → archive to S3</text>

  <rect class="card" x="378" y="194" width="304" height="52"/>
  <text class="t" x="396" y="215">Retrain policy check (daily)</text>
  <text class="t2" x="396" y="229">drift/performance triggers</text>
  <text class="t2" x="396" y="242">queue retrain request</text>

  <rect class="card" x="378" y="264" width="304" height="46"/>
  <text class="t" x="396" y="281">Training worker (hourly)</text>
  <text class="t2" x="396" y="297">train contender + run gates</text>

  <rect class="card" x="378" y="334" width="304" height="46"/>
  <text class="t" x="396" y="349">Post-promotion monitor (hourly)</text>
  <text class="t2" x="396" y="363">monitor live metrics</text>
  <text class="t2" x="396" y="375">rollback if degraded</text>

  <path class="stepArrow" d="M530 188 L530 194"/>
  <path class="stepArrow" d="M530 246 L530 264"/>
  <path class="stepArrow" d="M530 310 L530 334"/>

  <rect class="chip" x="464" y="392" width="132" height="22"/>
  <text class="chipText" x="479" y="407">policy + gate driven</text>

  <!-- Right: state (x=736, w=360) -->
  <rect class="group" x="736" y="82" width="360" height="336"/>
  <text class="h" x="754" y="108">State, storage, release control</text>

  <rect class="card" x="754" y="124" width="324" height="58"/>
  <text class="h" x="874" y="150">Postgres</text>
  <text class="t2" x="820" y="167">serving tables + pipeline state</text>

  <rect class="card" x="754" y="198" width="324" height="52"/>
  <text class="h" x="898" y="223">S3</text>
  <text class="t2" x="822" y="240">artifacts + snapshots archive</text>

  <rect class="card" x="754" y="266" width="324" height="78"/>
  <text class="t" x="772" y="286">Current pointer + release gates</text>
  <text class="t2" x="772" y="302">contender/champion promotion</text>
  <text class="t2" x="772" y="316">+ rollback support</text>

  <rect class="card" x="754" y="358" width="324" height="56"/>
  <text class="t" x="772" y="378">Performance tracking</text>
  <text class="t2" x="772" y="394">benchmarking + prediction accuracy</text>

  <!-- Cross-group arrows: model lifecycle → state (writes) -->
  <path class="arrow" d="M700 153 L736 153"/>
  <path class="arrow" d="M700 224 L736 224"/>
  <path class="arrow" d="M700 300 L736 300"/>
  <path class="arrow" d="M700 386 L736 386"/>

  <!-- Read path: Postgres → Backend API (dashed blue arc over top) -->
  <path class="readArrow" d="M736 124 C674 64 374 64 306 142"/>

  <!-- Footer notes -->
  <rect class="group" x="24" y="438" width="1072" height="58"/>
  <text class="t" x="44" y="460">Design intent</text>
  <text class="t2" x="44" y="477">Reproducible ML operations, gated promotion/rollback, and benchmarked evaluation using forward/live predictions.</text>
  <text class="t2" x="44" y="491">Public artifact documents process quality and system design without exposing production IP.</text>
</svg>
